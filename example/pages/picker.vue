<template>
  <div class="page-picker">
    <h1 class="page-title">Picker</h1>
    <div class="page-picker-wrapper">
      <mt-picker :slots="yearSlot" @change="onYearChange" :visible-item-count="3"></mt-picker>
    </div>
    <p class="page-picker-desc">å‡ºç”Ÿå¹´ä»½: {{ year }}</p>

    <div class="page-picker-wrapper">
      <mt-picker :slots="dateSlots" @change="onDateChange" :visible-item-count="3"></mt-picker>
    </div>
    <p class="page-picker-desc">åœ¨æ ¡æ—¶é—´: {{ dateStart }} è‡³ {{ dateEnd }}</p>

    <div class="page-picker-wrapper">
      <mt-picker :slots="addressSlots" @change="onAddressChange" :visible-item-count="5"></mt-picker>
    </div>
    <p class="page-picker-desc">åœ°å€: {{ addressProvince }} {{ addressCity }}</p>
    
    <!-- defaultIndex å‚æ•°å˜åŒ– -->
    <div class="page-picker-wrapper">
      <mt-picker :slots="numberSlot" @change="onNumberChange" :visible-item-count="3"></mt-picker>
    </div>
    <p class="page-picker-desc">åŠ¨æ€é»˜è®¤é€‰é¡¹: {{ number }}</p>
  </div>
</template>

<style>
  @component-namespace page {
    @component picker {
      padding: 0 10px 20px;
      @descendent wrapper {
        background-color: #fff;
        text-align: center;
      }

      @descendent desc {
        margin: 10px 0 50px;
      }

      .mint-button {
        margin-top: 15px;
      }
    }
  }
</style>

<script type="text/babel">
  const address = {
    'åŒ—äº¬': ['åŒ—äº¬'],
    'å¹¿ä¸œ': ['å¹¿å·', 'æ·±åœ³', 'ç æµ·', 'æ±•å¤´', 'éŸ¶å…³', 'ä½›å±±', 'æ±Ÿé—¨', 'æ¹›æ±Ÿ', 'èŒ‚å', 'è‚‡åº†', 'æƒ å·', 'æ¢…å·', 'æ±•å°¾', 'æ²³æº', 'é˜³æ±Ÿ', 'æ¸…è¿œ', 'ä¸œè', 'ä¸­å±±', 'æ½®å·', 'æ­é˜³', 'äº‘æµ®'],
    'ä¸Šæµ·': ['ä¸Šæµ·'],
    'å¤©æ´¥': ['å¤©æ´¥'],
    'é‡åº†': ['é‡åº†'],
    'è¾½å®': ['æ²ˆé˜³', 'å¤§è¿', 'éå±±', 'æŠšé¡º', 'æœ¬æºª', 'ä¸¹ä¸œ', 'é”¦å·', 'è¥å£', 'é˜œæ–°', 'è¾½é˜³', 'ç›˜é”¦', 'é“å²­', 'æœé˜³', 'è‘«èŠ¦å²›'],
    'æ±Ÿè‹': ['å—äº¬', 'è‹å·', 'æ— é”¡', 'å¸¸å·', 'é•‡æ±Ÿ', 'å—é€š', 'æ³°å·', 'æ‰¬å·', 'ç›åŸ', 'è¿äº‘æ¸¯', 'å¾å·', 'æ·®å®‰', 'å®¿è¿'],
    'æ¹–åŒ—': ['æ­¦æ±‰', 'é»„çŸ³', 'åå °', 'è†å·', 'å®œæ˜Œ', 'è¥„æ¨Š', 'é„‚å·', 'è†é—¨', 'å­æ„Ÿ', 'é»„å†ˆ', 'å’¸å®', 'éšå·', 'æ©æ–½åœŸå®¶æ—è‹—æ—è‡ªæ²»å·', 'ä»™æ¡ƒ', 'å¤©é—¨', 'æ½œæ±Ÿ', 'ç¥å†œæ¶æ—åŒº'],
    'å››å·': ['æˆéƒ½', 'è‡ªè´¡', 'æ”€æèŠ±', 'æ³¸å·', 'å¾·é˜³', 'ç»µé˜³', 'å¹¿å…ƒ', 'é‚å®', 'å†…æ±Ÿ', 'ä¹å±±', 'å—å……', 'çœ‰å±±', 'å®œå®¾', 'å¹¿å®‰', 'è¾¾å·', 'é›…å®‰', 'å·´ä¸­', 'èµ„é˜³', 'é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·', 'ç”˜å­œè—æ—è‡ªæ²»å·', 'å‡‰å±±å½æ—è‡ªæ²»å·'],
    'é™•è¥¿': ['è¥¿å®‰', 'é“œå·', 'å®é¸¡', 'å’¸é˜³', 'æ¸­å—', 'å»¶å®‰', 'æ±‰ä¸­', 'æ¦†æ—', 'å®‰åº·', 'å•†æ´›'],
    'æ²³åŒ—': ['çŸ³å®¶åº„', 'å”å±±', 'ç§¦çš‡å²›', 'é‚¯éƒ¸', 'é‚¢å°', 'ä¿å®š', 'å¼ å®¶å£', 'æ‰¿å¾·', 'æ²§å·', 'å»ŠåŠ', 'è¡¡æ°´'],
    'å±±è¥¿': ['å¤ªåŸ', 'å¤§åŒ', 'é˜³æ³‰', 'é•¿æ²»', 'æ™‹åŸ', 'æœ”å·', 'æ™‹ä¸­', 'è¿åŸ', 'å¿»å·', 'ä¸´æ±¾', 'å•æ¢'],
    'æ²³å—': ['éƒ‘å·', 'å¼€å°', 'æ´›é˜³', 'å¹³é¡¶å±±', 'å®‰é˜³', 'é¹¤å£', 'æ–°ä¹¡', 'ç„¦ä½œ', 'æ¿®é˜³', 'è®¸æ˜Œ', 'æ¼¯æ²³', 'ä¸‰é—¨å³¡', 'å—é˜³', 'å•†ä¸˜', 'ä¿¡é˜³', 'å‘¨å£', 'é©»é©¬åº—'],
    'å‰æ—': ['é•¿æ˜¥', 'å‰æ—', 'å››å¹³', 'è¾½æº', 'é€šåŒ–', 'ç™½å±±', 'æ¾åŸ', 'ç™½åŸ', 'å»¶è¾¹æœé²œæ—è‡ªæ²»å·'],
    'é»‘é¾™æ±Ÿ': ['å“ˆå°”æ»¨', 'é½é½å“ˆå°”', 'é¹¤å²—', 'åŒé¸­å±±', 'é¸¡è¥¿', 'å¤§åº†', 'ä¼Šæ˜¥', 'ç‰¡ä¸¹æ±Ÿ', 'ä½³æœ¨æ–¯', 'ä¸ƒå°æ²³', 'é»‘æ²³', 'ç»¥åŒ–', 'å¤§å…´å®‰å²­åœ°åŒº'],
    'å†…è’™å¤': ['å‘¼å’Œæµ©ç‰¹', 'åŒ…å¤´', 'ä¹Œæµ·', 'èµ¤å³°', 'é€šè¾½', 'é„‚å°”å¤šæ–¯', 'å‘¼ä¼¦è´å°”', 'å·´å½¦æ·–å°”', 'ä¹Œå…°å¯Ÿå¸ƒ', 'é”¡æ—éƒ­å‹’ç›Ÿ', 'å…´å®‰ç›Ÿ', 'é˜¿æ‹‰å–„ç›Ÿ'],
    'å±±ä¸œ': ['æµå—', 'é’å²›', 'æ·„åš', 'æ£åº„', 'ä¸œè¥', 'çƒŸå°', 'æ½åŠ', 'æµå®', 'æ³°å®‰', 'å¨æµ·', 'æ—¥ç…§', 'è±èŠœ', 'ä¸´æ²‚', 'å¾·å·', 'èŠåŸ', 'æ»¨å·', 'èæ³½'],
    'å®‰å¾½': ['åˆè‚¥', 'èŠœæ¹–', 'èšŒåŸ ', 'æ·®å—', 'é©¬éå±±', 'æ·®åŒ—', 'é“œé™µ', 'å®‰åº†', 'é»„å±±', 'æ»å·', 'é˜œé˜³', 'å®¿å·', 'å·¢æ¹–', 'å…­å®‰', 'äº³å·', 'æ± å·', 'å®£åŸ'],
    'æµ™æ±Ÿ': ['æ­å·', 'å®æ³¢', 'æ¸©å·', 'å˜‰å…´', 'æ¹–å·', 'ç»å…´', 'é‡‘å', 'è¡¢å·', 'èˆŸå±±', 'å°å·', 'ä¸½æ°´'],
    'ç¦å»º': ['ç¦å·', 'å¦é—¨', 'è†ç”°', 'ä¸‰æ˜', 'æ³‰å·', 'æ¼³å·', 'å—å¹³', 'é¾™å²©', 'å®å¾·'],
    'æ¹–å—': ['é•¿æ²™', 'æ ªæ´²', 'æ¹˜æ½­', 'è¡¡é˜³', 'é‚µé˜³', 'å²³é˜³', 'å¸¸å¾·', 'å¼ å®¶ç•Œ', 'ç›Šé˜³', 'éƒ´å·', 'æ°¸å·', 'æ€€åŒ–', 'å¨„åº•', 'æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·'],
    'å¹¿è¥¿': ['å—å®', 'æŸ³å·', 'æ¡‚æ—', 'æ¢§å·', 'åŒ—æµ·', 'é˜²åŸæ¸¯', 'é’¦å·', 'è´µæ¸¯', 'ç‰æ—', 'ç™¾è‰²', 'è´ºå·', 'æ²³æ± ', 'æ¥å®¾', 'å´‡å·¦'],
    'æ±Ÿè¥¿': ['å—æ˜Œ', 'æ™¯å¾·é•‡', 'èä¹¡', 'ä¹æ±Ÿ', 'æ–°ä½™', 'é¹°æ½­', 'èµ£å·', 'å‰å®‰', 'å®œæ˜¥', 'æŠšå·', 'ä¸Šé¥¶'],
    'è´µå·': ['è´µé˜³', 'å…­ç›˜æ°´', 'éµä¹‰', 'å®‰é¡º', 'é“œä»åœ°åŒº', 'æ¯•èŠ‚åœ°åŒº', 'é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·', 'é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·', 'é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·'],
    'äº‘å—': ['æ˜†æ˜', 'æ›²é–', 'ç‰æºª', 'ä¿å±±', 'æ˜­é€š', 'ä¸½æ±Ÿ', 'æ™®æ´±', 'ä¸´æ²§', 'å¾·å®å‚£æ—æ™¯é¢‡æ—è‡ªæ²»å·', 'æ€’æ±Ÿå‚ˆåƒ³æ—è‡ªæ²»å·', 'è¿ªåº†è—æ—è‡ªæ²»å·', 'å¤§ç†ç™½æ—è‡ªæ²»å·', 'æ¥šé›„å½æ—è‡ªæ²»å·', 'çº¢æ²³å“ˆå°¼æ—å½æ—è‡ªæ²»å·', 'æ–‡å±±å£®æ—è‹—æ—è‡ªæ²»å·', 'è¥¿åŒç‰ˆçº³å‚£æ—è‡ªæ²»å·'],
    'è¥¿è—': ['æ‹‰è¨', 'é‚£æ›²åœ°åŒº', 'æ˜Œéƒ½åœ°åŒº', 'æ—èŠåœ°åŒº', 'å±±å—åœ°åŒº', 'æ—¥å–€åˆ™åœ°åŒº', 'é˜¿é‡Œåœ°åŒº'],
    'æµ·å—': ['æµ·å£', 'ä¸‰äºš', 'äº”æŒ‡å±±', 'ç¼æµ·', 'å„‹å·', 'æ–‡æ˜Œ', 'ä¸‡å®', 'ä¸œæ–¹', 'æ¾„è¿ˆå¿', 'å®šå®‰å¿', 'å±¯æ˜Œå¿', 'ä¸´é«˜å¿', 'ç™½æ²™é»æ—è‡ªæ²»å¿', 'æ˜Œæ±Ÿé»æ—è‡ªæ²»å¿', 'ä¹ä¸œé»æ—è‡ªæ²»å¿', 'é™µæ°´é»æ—è‡ªæ²»å¿', 'ä¿äº­é»æ—è‹—æ—è‡ªæ²»å¿', 'ç¼ä¸­é»æ—è‹—æ—è‡ªæ²»å¿'],
    'ç”˜è‚ƒ': ['å…°å·', 'å˜‰å³ªå…³', 'é‡‘æ˜Œ', 'ç™½é“¶', 'å¤©æ°´', 'æ­¦å¨', 'é…’æ³‰', 'å¼ æ–', 'åº†é˜³', 'å¹³å‡‰', 'å®šè¥¿', 'é™‡å—', 'ä¸´å¤å›æ—è‡ªæ²»å·', 'ç”˜å—è—æ—è‡ªæ²»å·'],
    'å®å¤': ['é“¶å·', 'çŸ³å˜´å±±', 'å´å¿ ', 'å›ºåŸ', 'ä¸­å«'],
    'é’æµ·': ['è¥¿å®', 'æµ·ä¸œåœ°åŒº', 'æµ·åŒ—è—æ—è‡ªæ²»å·', 'æµ·å—è—æ—è‡ªæ²»å·', 'é»„å—è—æ—è‡ªæ²»å·', 'æœæ´›è—æ—è‡ªæ²»å·', 'ç‰æ ‘è—æ—è‡ªæ²»å·', 'æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·'],
    'æ–°ç–†': ['ä¹Œé²æœ¨é½', 'å…‹æ‹‰ç›ä¾', 'åé²ç•ªåœ°åŒº', 'å“ˆå¯†åœ°åŒº', 'å’Œç”°åœ°åŒº', 'é˜¿å…‹è‹åœ°åŒº', 'å–€ä»€åœ°åŒº', 'å…‹å­œå‹’è‹æŸ¯å°”å…‹å­œè‡ªæ²»å·', 'å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·', 'æ˜Œå‰å›æ—è‡ªæ²»å·', 'åšå°”å¡”æ‹‰è’™å¤è‡ªæ²»å·', 'çŸ³æ²³å­', 'é˜¿æ‹‰å°”', 'å›¾æœ¨èˆ’å…‹', 'äº”å®¶æ¸ ', 'ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·'],
    'é¦™æ¸¯': ['é¦™æ¸¯'],
    'æ¾³é—¨': ['æ¾³é—¨'],
    'å°æ¹¾': ['å°åŒ—å¸‚', 'é«˜é›„å¸‚', 'å°åŒ—å¿', 'æ¡ƒå›­å¿', 'æ–°ç«¹å¿', 'è‹—æ —å¿', 'å°ä¸­å¿', 'å½°åŒ–å¿', 'å—æŠ•å¿', 'äº‘æ—å¿', 'å˜‰ä¹‰å¿', 'å°å—å¿', 'é«˜é›„å¿', 'å±ä¸œå¿', 'å®œå…°å¿', 'èŠ±è²å¿', 'å°ä¸œå¿', 'æ¾æ¹–å¿', 'åŸºéš†å¸‚', 'æ–°ç«¹å¸‚', 'å°ä¸­å¸‚', 'å˜‰ä¹‰å¸‚', 'å°å—å¸‚']
  };

  export default {
    methods: {
      onYearChange(picker, values) {
        this.year = values[0];
      },

      onNumberChange(picker, values) {
        this.number = values[0];
      },

      onDateChange(picker, values) {
        if (values[0] > values[1]) {
          picker.setSlotValue(1, values[0]);
        }
        this.dateStart = values[0];
        this.dateEnd = values[1];
      },

      onAddressChange(picker, values) {
        picker.setSlotValues(1, address[values[0]]);
        this.addressProvince = values[0];
        this.addressCity = values[1];
      }
    },

    data() {
      return {
        year: '1984',
        number: 0,
        yearSlot: [{
          flex: 1,
          values: ['1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991', '1992', '1993', '1994', '1995'],
          className: 'slot1'
        }],
        numberSlot: [{
          flex: 1,
          defaultIndex: 0,
          values: [0, 1, 2, 3, 4, 5, 6],
          className: 'slot1'
        }],
        dateSlots: [
          {
            flex: 1,
            values: ['2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016'],
            className: 'slot1',
            textAlign: 'right'
          }, {
            divider: true,
            content: '-',
            className: 'slot2'
          }, {
            flex: 1,
            values: ['2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016'],
            className: 'slot3',
            textAlign: 'left'
          }
        ],
        dateStart: '2002',
        dateEnd: '2002',
        addressSlots: [
          {
            flex: 1,
            values: Object.keys(address),
            className: 'slot1',
            textAlign: 'center'
          }, {
            divider: true,
            content: '-',
            className: 'slot2'
          }, {
            flex: 1,
            values: ['åŒ—äº¬'],
            className: 'slot3',
            textAlign: 'center'
          }
        ],
        addressProvince: 'åŒ—äº¬',
        addressCity: 'åŒ—äº¬'
      };
    },

    mounted() {
      this.$nextTick(() => {
        let step = 0;
        setInterval(() => {
          this.numberSlot[0].defaultIndex = step++;
          if (step > this.numberSlot[0].values.length - 1) {
            step = 0;
          }
        }, 1000);
      });
    }
  };
</script>